<!DOCTYPE html>
<html>


<!-- Mirrored from dreamguys.co.in/preadmin/school/light/add-student.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 22 Jan 2020 17:06:45 GMT -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
    <title>Preschool - Bootstrap Admin Template</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <!--[if lt IE 9]>
		<script src="assets/js/html5shiv.min.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->
</head>

<body>
    <div class="main-wrapper" ng-app="studentApp" ng-controller="studentCtrl" ng-cloak>
        <div class="content container-fluid m-t-15">
            <div class="page-content">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="card">
                            <div class="page-title">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="Page-title">Student information</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">	
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                         <form class="custom-mt-form" name="add_student_form">
                                            <div class="form-group custom-mt-form-group">
                                                <input type="text" ng-model = "std_data.firstname" />
                                                <label class="control-label">Firstname</label><i class="bar"></i>
                                            </div>
                                            <!-- <div class="form-group custom-mt-form-group">
                                                <input type="text"  />
                                                <label class="control-label">Email</label><i class="bar"></i>
                                            </div> -->
                                            <!-- <div class="form-group custom-mt-form-group">
                                                <input type="password"  ng-model = "std_data.password"/>
                                                <label class="control-label">Password</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <input type="password"  ng-model = "std_data.password1" />
                                                <span ng-show= "password != password1 ">Passwords Don't Match!</span>
                                                <label class="control-label">Comfirm Password</label><i class="bar"></i>
                                            </div> -->
                                            
                                            <div class="form-group custom-mt-form-group">
                                                <select  ng-model = "std_data.gender">
                                                    <option ng-repeat="g in gender" value="{{g.id}}">
                                                        {{g.name}}
                                                    </option>
                                                 </select>
                                                 <label class="control-label">Gender</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <input type="text"  ng-model = "std_data.student_id" />
                                                <label class="control-label">ID</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                 <input class="datetimepicker" ng-model = "std_data.birth_date" type="text"> 
                                                <label class="control-label">Birth Date</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <select ng-model="std_data.class">
                                                    <option ng-repeat="c in class" value="{{c.id}}">
                                                        {{c.name}}
                                                    </option>
                                                </select>
                                                <label class="control-label">Class</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <input type="text" ng-model = "std_data.religion" />
                                                <label class="control-label">Religion</label><i class="bar"></i>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                        <form class="custom-mt-form">
                                            <div class="form-group custom-mt-form-group">
                                                <input type="text"  ng-model = "std_data.lastname" >
                                                <label class="control-label">Lastname</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                 <input class="form-control floating datetimepicker"  ng-model = "std_data.joining_date" type="text" >
                                                <label class="control-label">Joining Date</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <select ng-model="std_data.subject">
                                                    <option ng-repeat="c in subject" value="{{c.id}}">
                                                        {{c.name}}
                                                    </option>
                                                </select>
                                                <label class="control-label">Subject</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <input type="number"  ng-model = "std_data.mobile" />
                                                <label class="control-label">Mobile number</label><i class="bar"></i>
                                            </div>
                                            <div class="form-group custom-mt-form-group">
                                                <input type="text"  ng-model = "std_data.admission_no" />
                                                <label class="control-label">Admission No</label><i class="bar"></i>
                                            </div>
                                            
                                            <div class="form-group custom-mt-form-group">
                                                <select ng-model="std_data.section">
                                                    <option ng-repeat="c in section" value="{{c.id}}">
                                                        {{c.name}}
                                                    </option>
                                                </select>
                                                <label class="control-label">Section</label><i class="bar"></i>
                                            </div>								
                                        </form>
                                    </div>
                                    <br><br>
                                    <div class="page-title w-100 mt-4">
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                <div class="page-title pl-3">Parents information</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body w-100 p-3">	
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                 <form class="custom-mt-form">
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="text" ng-model = "std_data.father_name" />
                                                        <label class="control-label">Father Name</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="text" ng-model = "std_data.father_occupation" />
                                                        <label class="control-label">Father Occupation</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="number" ng-model = "std_data.parents_mobile" />
                                                        <label class="control-label">Mobile number</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group">
                                                        <textarea id="message" ng-model = "std_data.present_address" class="form__field" placeholder="Present Address" rows="4"></textarea>
                                                        <label for="message" class="form-label">Present Address</label>
                                                    </div>
                                                </form>
                                            </div>
                                            
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                 <form class="custom-mt-form">
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="text"  ng-model = "std_data.mother_name" />
                                                        <label class="control-label">Mother Name</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="text" ng-model = "std_data.mother_occupation" />
                                                        <label class="control-label">Mother Occupation</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group custom-mt-form-group">
                                                        <input type="text" ng-model = "std_data.nationality" />
                                                        <label class="control-label">Nationality</label><i class="bar"></i>
                                                    </div>
                                                    <div class="form-group">
                                                        <textarea id="message2" ng-model = "std_data.parmanent_address" class="form__field" placeholder="Premanent Address" rows="4"></textarea>
                                                        <label for="message2" class="form-label">Premanent Address</label>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <form class="custom-mt-form">
                                            <div class="form-group custom-mt-form-group">
                                                  <input type="file" name="pic" accept="image/*" style="margin-bottom:10px;">
                                                <label class="control-label">Student Image</label><i class="bar"></i>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <form class="custom-mt-form">
                                            <div class="form-group custom-mt-form-group">
                                                  <input type="file" name="pic" accept="image/*" style="margin-bottom:10px;">
                                                <label class="control-label">Parents Image</label><i class="bar"></i>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <form class="custom-mt-form">
                                            <div class="form-group text-center custom-mt-form-group">
                                                <button class="btn btn-primary mr-2" type="submit" ng-click="save_data()">{{(id > 0)? 'Update' : 'Save' }}</button>
                                                <button class="btn btn-secondary" type="reset" ng-click="cancel_data()">Cancel</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
            
        </div>
    </div>
    <div class="sidebar-overlay" data-reff=""></div>
       <script type="text/javascript" src="assets/js/jquery-3.2.1.min.js"></script>
       <script type="text/javascript" src="assets/js/angular.min.js"></script>
	<script type="text/javascript" src="assets/js/popper.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.slimscroll.js"></script>
    <script type="text/javascript" src="assets/js/select2.min.js"></script>
    <script type="text/javascript" src="assets/js/moment.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="assets/js/toaster.js"></script>
    <script type="text/javascript" src="assets/js/app.js"></script>
    <script type="text/javascript">
        var app = angular.module("studentApp", []);
        app.controller("studentCtrl", function ($scope, $http) {
            // $scope.id = getURLParameter('id');
            $scope.id = 0;
            $scope.std_data;
            var url = "php/student_data_service.php?service=";
            var save_url = url + "save_student";
            
            $scope.gender = [ 
                { name: 'Male', id: 1 },  
                { name: 'Female', id: 2 },  
                { name: 'Others', id: 3 } 
            ]; 
            $scope.class = [ 
                { name: 'Play', id: 1 },  
                { name: 'KG-ONE', id: 2 },  
                { name: 'KG-TWO', id: 3 } 
            ];
            $scope.subject = [ 
                { name: 'Bangla', id: 1 },  
                { name: 'English', id: 2 },  
                { name: 'Math', id: 3 } 
            ];
            $scope.section = [ 
                { name: 'A', id: 1 },  
                { name: 'B', id: 2 },  
                { name: 'C', id: 3 } 
            ];
            
            if($scope.id > 0){
                $http.get(url+"get_student_details&id="+$scope.id).success(function(data){
                    $scope.std_data = data;
                    // $scope.std_data.joining_date = "
                });
            }
            else{
                $scope.std_data = {
                    id: 0,
                    firstname: "",
                    lastname: "",
                    joining_date: "",
                    subject: "",
                    mobile: "",
                    gender:"",
                    admission_no: '',
                    birth_date: '',
                    student_id: '',
                    class: '',
                    section: '',
                    religion: '',
                    father_name: '',
                    mother_name: '',
                    father_occupation: '',
                    mother_occupation: '',
                    parents_mobile: '',
                    nationality: '',
                    present_address: '',
                    parmanent_address: '',
                };
            }
            $scope.save_data = function () {
                $.ajax({
                    url: save_url,
                    type: "POST",
                    dataType: "json",
                    data: "data=[" + JSON.stringify($scope.std_data) + "]",
                    // data: $scope.std_data,
                    success: function (response) {
                        if (response == null) {
                            if($scope.std_data.id == 0){
                                show_err_msg("Student information save was unsuccessful.");
                            }else{
                                show_err_msg("Student information update was unsuccessful.");
                            }
                        } else {
                            if($scope.std_data.id == 0){
                                show_success_msg("Student information has been succefully saved.");
                            }else{
                                show_success_msg("Student information has been succefully updated.");
                            }
                        }
                    }
                });
            }
        })
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "preventDuplicates": false,
            "positionClass": "toast-bottom-right",
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": 5000,
            "extendedTimeOut": 0,
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut",
            "tapToDismiss": false
        };
        function show_success_msg(msg) {
            toastr.options.positionClass = "toast-bottom-right";
            toastr.options.progressBar = true;
            toastr.options.timeOut = 3000;
            toastr.success(msg);
        }
        function show_err_msg(msg) {
            toastr.options.positionClass = "toast-bottom-right";
            toastr.options.timeOut = 3000;
            toastr.error(msg);
        }
        function getURLParameter(name) {
            return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ""])[1].replace(/\+/g, '%20')) || null
        }
    </script>
</body>

</html>